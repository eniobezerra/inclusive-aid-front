(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[328],{3417:function(e,t,r){Promise.resolve().then(r.bind(r,6739))},7907:function(e,t,r){"use strict";var i=r(5313);r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},6739:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var i=r(3827),a=r(4090),n=r(8371),o=r(6034),s=r(8471);let l=[{id:"highContrast",title:"Alto Contraste",description:"Aumenta o contraste entre texto e fundo",type:"toggle",defaultValue:!1},{id:"fontSize",title:"Tamanho da Fonte",description:"Ajusta o tamanho do texto",type:"select",options:[{value:"small",label:"Pequeno"},{value:"medium",label:"M\xe9dio"},{value:"large",label:"Grande"},{value:"xlarge",label:"Extra Grande"}],defaultValue:"medium"},{id:"textSpacing",title:"Espa\xe7amento do Texto",description:"Ajusta o espa\xe7amento entre letras e linhas",type:"slider",defaultValue:1},{id:"screenReader",title:"Leitor de Tela",description:"Ativa o leitor de tela integrado",type:"toggle",defaultValue:!1},{id:"reducedMotion",title:"Reduzir Movimento",description:"Diminui anima\xe7\xf5es e transi\xe7\xf5es",type:"toggle",defaultValue:!1}];function c(){let{updateAccessibilitySettings:e}=(0,s.useOnboardingContext)(),[t,r]=(0,a.useState)({});(0,a.useEffect)(()=>{r(l.reduce((e,t)=>({...e,[t.id]:t.defaultValue}),{}))},[]);let c=(e,t)=>{r(r=>({...r,[e]:t}))},d=async()=>{await e(t)};return(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Configura\xe7\xf5es de Acessibilidade"}),(0,i.jsx)("p",{className:"text-xl text-muted-foreground",children:"Personalize a experi\xeancia de acordo com suas necessidades"})]}),(0,i.jsx)("div",{className:"space-y-6",children:l.map(e=>(0,i.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-4 rounded-lg border border-border",children:(0,i.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold",children:e.title}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),"toggle"===e.type&&(0,i.jsx)("button",{onClick:()=>c(e.id,!t[e.id]),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(t[e.id]?"bg-primary":"bg-muted"),children:(0,i.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(t[e.id]?"translate-x-6":"translate-x-1")})}),"select"===e.type&&e.options&&(0,i.jsx)("select",{value:t[e.id],onChange:t=>c(e.id,t.target.value),className:"rounded-md border border-input bg-background px-3 py-1",children:e.options.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))}),"slider"===e.type&&(0,i.jsx)("input",{type:"range",min:"0.8",max:"2",step:"0.1",value:t[e.id],onChange:t=>c(e.id,parseFloat(t.target.value)),className:"w-32"})]})},e.id))}),(0,i.jsx)(o.C,{onNext:d})]})}},6034:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var i=r(3827),a=r(7907),n=r(8371),o=r(8471);function s(e){let{onNext:t,onBack:r,nextLabel:s="Continuar",backLabel:l="Voltar",showBack:c=!0,showNext:d=!0,isNextDisabled:u=!1,isNextLoading:g=!1}=e,m=(0,a.useRouter)(),{currentStep:b,setCurrentStep:p}=(0,o.useOnboardingContext)(),f=async()=>{t&&await t();let e=b+1;p(e);let r={1:"/onboarding",2:"/onboarding/disability",3:"/onboarding/accessibility",4:"/onboarding/preferences",5:"/onboarding/complete"}[e];r&&m.push(r)};return(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4 mt-8 pt-6 border-t",children:[c&&(0,i.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r&&r();let e=b-1;p(e);let t={1:"/onboarding",2:"/onboarding/disability",3:"/onboarding/accessibility",4:"/onboarding/preferences",5:"/onboarding/complete"}[e];t&&m.push(t)},className:"px-6 py-2 border border-input rounded-md hover:bg-accent transition-colors",disabled:1===b,children:l}),d&&(0,i.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:u||g,className:"px-6 py-2 rounded-md transition-colors ".concat(u||g?"bg-muted text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:bg-primary/90"),children:g?(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,i.jsx)("span",{children:"Carregando..."})]}):s})]})}},8471:function(e,t,r){"use strict";r.r(t),r.d(t,{OnboardingProvider:function(){return s},useOnboardingContext:function(){return l},useOnboardingStatus:function(){return c}});var i=r(3827),a=r(4090);let n={disabilitySettings:[],accessibilitySettings:{},userPreferences:{},currentStep:1,isComplete:!1},o=(0,a.createContext)(void 0);function s(e){let{children:t}=e,{disabilitySettings:r,accessibilitySettings:s,userPreferences:l,currentStep:c,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:g,updateUserPreferences:m,setCurrentStep:b,completeOnboarding:p,resetOnboarding:f}=function(){let[e,t]=(0,a.useState)(n);(0,a.useEffect)(()=>{(()=>{try{let e=JSON.parse(localStorage.getItem("selectedDisabilities")||"[]"),r=JSON.parse(localStorage.getItem("accessibilitySettings")||"{}"),i=JSON.parse(localStorage.getItem("userPreferences")||"{}"),a=parseInt(localStorage.getItem("onboardingStep")||"1"),n="true"===localStorage.getItem("onboardingComplete");t({disabilitySettings:e,accessibilitySettings:r,userPreferences:i,currentStep:a,isComplete:n})}catch(e){console.error("Erro ao carregar estado do onboarding:",e)}})()},[]);let r=async()=>{try{if(!(await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({disabilitySettings:e.disabilitySettings,accessibilitySettings:e.accessibilitySettings,userPreferences:e.userPreferences})})).ok)throw Error("Erro ao salvar configura\xe7\xf5es");t(e=>({...e,isComplete:!0})),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.setItem("onboardingComplete","true")}catch(e){throw console.error("Erro ao completar onboarding:",e),e}};return{...e,updateDisabilitySettings:e=>{t(t=>({...t,disabilitySettings:e})),localStorage.setItem("selectedDisabilities",JSON.stringify(e))},updateAccessibilitySettings:e=>{t(t=>({...t,accessibilitySettings:e})),localStorage.setItem("accessibilitySettings",JSON.stringify(e))},updateUserPreferences:e=>{t(t=>({...t,userPreferences:e})),localStorage.setItem("userPreferences",JSON.stringify(e))},setCurrentStep:e=>{t(t=>({...t,currentStep:e})),localStorage.setItem("onboardingStep",e.toString())},completeOnboarding:r,resetOnboarding:()=>{t(n),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.removeItem("onboardingComplete")}}}(),x=(0,a.useMemo)(()=>({disabilitySettings:r,accessibilitySettings:s,userPreferences:l,currentStep:c,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:g,updateUserPreferences:m,setCurrentStep:b,completeOnboarding:p,resetOnboarding:f}),[r,s,l,c,d,u,g,m,b,p,f]);return(0,i.jsx)(o.Provider,{value:x,children:t})}function l(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useOnboardingContext must be used within an OnboardingProvider");return e}function c(){let{isComplete:e,currentStep:t}=l();return{isOnboarding:(0,a.useCallback)(()=>!e,[e]),isOnboardingStep:(0,a.useCallback)(r=>!e&&t===r,[e,t])}}}},function(e){e.O(0,[371,971,69,744],function(){return e(e.s=3417)}),_N_E=e.O()}]);