(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{8800:function(e,t,r){Promise.resolve().then(r.bind(r,4211))},7907:function(e,t,r){"use strict";var i=r(5313);r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},4211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var i=r(3827),s=r(7907),a=r(8371),n=r(6034);function o(){return(0,s.useRouter)(),(0,i.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[(0,i.jsxs)("div",{className:"text-center space-y-6",children:[(0,i.jsx)(a.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:(0,i.jsx)("span",{className:"text-4xl",children:"\uD83D\uDC4B"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Bem-vindo ao InclusiveAID"}),(0,i.jsx)("p",{className:"text-xl text-muted-foreground",children:"Vamos configurar sua experi\xeancia personalizada para tornar sua jornada digital mais acess\xedvel e inclusiva."})]}),(0,i.jsxs)(a.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"space-y-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold",children:"O que voc\xea vai configurar:"}),(0,i.jsxs)("ul",{className:"space-y-3 text-left",children:[(0,i.jsxs)("li",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:"1"}),(0,i.jsx)("span",{children:"Selecionar suas necessidades espec\xedficas"})]}),(0,i.jsxs)("li",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:"2"}),(0,i.jsx)("span",{children:"Ajustar configura\xe7\xf5es de acessibilidade"})]}),(0,i.jsxs)("li",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:"3"}),(0,i.jsx)("span",{children:"Personalizar suas prefer\xeancias"})]}),(0,i.jsxs)("li",{className:"flex items-center gap-3",children:[(0,i.jsx)("span",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:"4"}),(0,i.jsx)("span",{children:"Come\xe7ar a usar a plataforma"})]})]})]})]}),(0,i.jsx)(n.C,{nextLabel:"Come\xe7ar Configura\xe7\xe3o",showBack:!1})]})}},6034:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var i=r(3827),s=r(7907),a=r(8371),n=r(8471);function o(e){let{onNext:t,onBack:r,nextLabel:o="Continuar",backLabel:l="Voltar",showBack:c=!0,showNext:d=!0,isNextDisabled:u=!1,isNextLoading:m=!1}=e,g=(0,s.useRouter)(),{currentStep:p,setCurrentStep:b}=(0,n.useOnboardingContext)(),f=async()=>{t&&await t();let e=p+1;b(e);let r={1:"/onboarding",2:"/onboarding/disability",3:"/onboarding/accessibility",4:"/onboarding/preferences",5:"/onboarding/complete"}[e];r&&g.push(r)};return(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4 mt-8 pt-6 border-t",children:[c&&(0,i.jsx)(a.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r&&r();let e=p-1;b(e);let t={1:"/onboarding",2:"/onboarding/disability",3:"/onboarding/accessibility",4:"/onboarding/preferences",5:"/onboarding/complete"}[e];t&&g.push(t)},className:"px-6 py-2 border border-input rounded-md hover:bg-accent transition-colors",disabled:1===p,children:l}),d&&(0,i.jsx)(a.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:u||m,className:"px-6 py-2 rounded-md transition-colors ".concat(u||m?"bg-muted text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:bg-primary/90"),children:m?(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,i.jsx)("span",{children:"Carregando..."})]}):o})]})}},8471:function(e,t,r){"use strict";r.r(t),r.d(t,{OnboardingProvider:function(){return o},useOnboardingContext:function(){return l},useOnboardingStatus:function(){return c}});var i=r(3827),s=r(4090);let a={disabilitySettings:[],accessibilitySettings:{},userPreferences:{},currentStep:1,isComplete:!1},n=(0,s.createContext)(void 0);function o(e){let{children:t}=e,{disabilitySettings:r,accessibilitySettings:o,userPreferences:l,currentStep:c,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:m,updateUserPreferences:g,setCurrentStep:p,completeOnboarding:b,resetOnboarding:f}=function(){let[e,t]=(0,s.useState)(a);(0,s.useEffect)(()=>{(()=>{try{let e=JSON.parse(localStorage.getItem("selectedDisabilities")||"[]"),r=JSON.parse(localStorage.getItem("accessibilitySettings")||"{}"),i=JSON.parse(localStorage.getItem("userPreferences")||"{}"),s=parseInt(localStorage.getItem("onboardingStep")||"1"),a="true"===localStorage.getItem("onboardingComplete");t({disabilitySettings:e,accessibilitySettings:r,userPreferences:i,currentStep:s,isComplete:a})}catch(e){console.error("Erro ao carregar estado do onboarding:",e)}})()},[]);let r=async()=>{try{if(!(await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({disabilitySettings:e.disabilitySettings,accessibilitySettings:e.accessibilitySettings,userPreferences:e.userPreferences})})).ok)throw Error("Erro ao salvar configura\xe7\xf5es");t(e=>({...e,isComplete:!0})),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.setItem("onboardingComplete","true")}catch(e){throw console.error("Erro ao completar onboarding:",e),e}};return{...e,updateDisabilitySettings:e=>{t(t=>({...t,disabilitySettings:e})),localStorage.setItem("selectedDisabilities",JSON.stringify(e))},updateAccessibilitySettings:e=>{t(t=>({...t,accessibilitySettings:e})),localStorage.setItem("accessibilitySettings",JSON.stringify(e))},updateUserPreferences:e=>{t(t=>({...t,userPreferences:e})),localStorage.setItem("userPreferences",JSON.stringify(e))},setCurrentStep:e=>{t(t=>({...t,currentStep:e})),localStorage.setItem("onboardingStep",e.toString())},completeOnboarding:r,resetOnboarding:()=>{t(a),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.removeItem("onboardingComplete")}}}(),x=(0,s.useMemo)(()=>({disabilitySettings:r,accessibilitySettings:o,userPreferences:l,currentStep:c,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:m,updateUserPreferences:g,setCurrentStep:p,completeOnboarding:b,resetOnboarding:f}),[r,o,l,c,d,u,m,g,p,b,f]);return(0,i.jsx)(n.Provider,{value:x,children:t})}function l(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useOnboardingContext must be used within an OnboardingProvider");return e}function c(){let{isComplete:e,currentStep:t}=l();return{isOnboarding:(0,s.useCallback)(()=>!e,[e]),isOnboardingStep:(0,s.useCallback)(r=>!e&&t===r,[e,t])}}}},function(e){e.O(0,[371,971,69,744],function(){return e(e.s=8800)}),_N_E=e.O()}]);