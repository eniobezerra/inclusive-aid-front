(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{8421:function(e,t,r){Promise.resolve().then(r.bind(r,6619))},6619:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var s=r(3827),n=r(4090),i=r(3856),o=r(2435),a=r(4561),l=r(3449);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e,i=(0,n.useId)(),o=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,n.useContext)(l._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:n}=a.current;if(r||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let l=document.createElement("style");return d&&(l.nonce=d),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[r]),(0,s.jsx)(c,{isPresent:r,childRef:o,sizeRef:a,children:n.cloneElement(t,{ref:o})})}let u=e=>{let{children:t,initial:r,isPresent:i,onExitComplete:l,custom:c,presenceAffectsLayout:u,mode:p}=e,f=(0,o.h)(m),g=(0,n.useId)(),x=(0,n.useCallback)(e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;l&&l()},[f,l]),h=(0,n.useMemo)(()=>({id:g,initial:r,isPresent:i,custom:c,onExitComplete:x,register:e=>(f.set(e,!1),()=>f.delete(e))}),u?[Math.random(),x]:[i,x]);return(0,n.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[i]),n.useEffect(()=>{i||f.size||!l||l()},[i]),"popLayout"===p&&(t=(0,s.jsx)(d,{isPresent:i,children:t})),(0,s.jsx)(a.O.Provider,{value:h,children:t})};function m(){return new Map}var p=r(3177);let f=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var x=r(5526);let h=e=>{let{children:t,custom:r,initial:a=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1}=e,[h,b]=(0,p.oO)(m),v=(0,n.useMemo)(()=>g(t),[t]),y=m&&!h?[]:v.map(f),j=(0,n.useRef)(!0),S=(0,n.useRef)(v),N=(0,o.h)(()=>new Map),[w,I]=(0,n.useState)(v),[C,k]=(0,n.useState)(v);(0,x.L)(()=>{j.current=!1,S.current=v;for(let e=0;e<C.length;e++){let t=f(C[e]);y.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[C,y.length,y.join("-")]);let P=[];if(v!==w){let e=[...v];for(let t=0;t<C.length;t++){let r=C[t],s=f(r);y.includes(s)||(e.splice(t,0,r),P.push(r))}"wait"===d&&P.length&&(e=P),k(g(e)),I(v);return}let{forceRender:E}=(0,n.useContext)(i.p);return(0,s.jsx)(s.Fragment,{children:C.map(e=>{let t=f(e),n=(!m||!!h)&&(v===C||y.includes(t));return(0,s.jsx)(u,{isPresent:n,initial:(!j.current||!!a)&&void 0,custom:n?void 0:r,presenceAffectsLayout:c,mode:d,onExitComplete:n?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==E||E(),k(S.current),m&&(null==b||b()),l&&l())},children:e},t)})})};var b=r(8371),v=r(8471);let y={info:"bg-blue-500/10 text-blue-500 border-blue-500/20",success:"bg-green-500/10 text-green-500 border-green-500/20",warning:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",error:"bg-red-500/10 text-red-500 border-red-500/20"},j={info:"ℹ️",success:"✅",warning:"⚠️",error:"❌"};function S(e){let{notifications:t,onDismiss:r}=e;return(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:(0,s.jsx)(h,{children:t.map(e=>(0,s.jsx)(b.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.2}},className:"p-4 rounded-lg border ".concat(y[e.type]," shadow-lg max-w-sm"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"text-lg",children:j[e.type]}),(0,s.jsx)("p",{className:"flex-1 text-sm",children:e.message}),(0,s.jsx)("button",{onClick:()=>r(e.id),className:"text-current hover:opacity-70 transition-opacity",children:"✕"})]})},e.id))})})}let N=[{number:1,title:"Bem-vindo",description:"Introdu\xe7\xe3o \xe0 plataforma"},{number:2,title:"Necessidades",description:"Sele\xe7\xe3o de defici\xeancias"},{number:3,title:"Acessibilidade",description:"Configura\xe7\xf5es de acessibilidade"},{number:4,title:"Prefer\xeancias",description:"Prefer\xeancias do usu\xe1rio"},{number:5,title:"Conclus\xe3o",description:"Finaliza\xe7\xe3o do setup"}];function w(){let{currentStep:e}=(0,v.useOnboardingContext)();return(0,s.jsxs)("div",{className:"w-full max-w-3xl mx-auto mb-8",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-muted -translate-y-1/2",children:(0,s.jsx)(b.E.div,{className:"absolute top-0 left-0 h-full bg-primary",initial:{width:0},animate:{width:"".concat((e-1)/(N.length-1)*100,"%")},transition:{duration:.3}})}),(0,s.jsx)("div",{className:"relative flex justify-between",children:N.map(t=>{let r=t.number===e,n=t.number<e;return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(b.E.div,{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium border-2 transition-colors ".concat(r?"bg-primary text-primary-foreground border-primary":n?"bg-primary/10 text-primary border-primary":"bg-background text-muted-foreground border-muted"),whileHover:{scale:1.1},whileTap:{scale:.95},children:n?"✓":t.number}),(0,s.jsxs)("div",{className:"mt-2 text-center",children:[(0,s.jsx)("h3",{className:"text-sm font-medium ".concat(r?"text-foreground":"text-muted-foreground"),children:t.title}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:t.description})]})]},t.number)})})]}),(0,s.jsx)("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:(0,s.jsxs)("p",{children:["Etapa ",e," de ",N.length]})})]})}function I(e){let{children:t}=e,{notifications:r,dismissNotification:i}=function(){let[e,t]=(0,n.useState)([]),{currentStep:r}=(0,v.useOnboardingContext)(),s=e=>{let r=Math.random().toString(36).substring(7);t(t=>[...t,{...e,id:r}]),e.duration&&setTimeout(()=>{i(r)},e.duration)},i=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,n.useEffect)(()=>{let e={1:{type:"info",message:"Bem-vindo ao InclusiveAID! Vamos configurar sua experi\xeancia personalizada.",duration:5e3},2:{type:"info",message:"Selecione as op\xe7\xf5es que melhor descrevem suas necessidades. Voc\xea pode selecionar mais de uma op\xe7\xe3o.",duration:5e3},3:{type:"info",message:"Ajuste as configura\xe7\xf5es de acessibilidade de acordo com suas prefer\xeancias.",duration:5e3},4:{type:"info",message:"Escolha suas prefer\xeancias para personalizar ainda mais sua experi\xeancia.",duration:5e3},5:{type:"success",message:"Parab\xe9ns! Sua configura\xe7\xe3o inicial est\xe1 completa. Voc\xea pode alterar essas configura\xe7\xf5es a qualquer momento.",duration:5e3}}[r];e&&s(e)},[r]),{notifications:e,addNotification:s,dismissNotification:i}}();return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-background",children:[(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,s.jsxs)("a",{href:"/",className:"flex items-center space-x-2 text-xl font-bold text-primary hover:opacity-80 transition-opacity",children:[(0,s.jsx)("span",{className:"sr-only",children:"InclusiveAID"}),(0,s.jsxs)("svg",{className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,s.jsx)("span",{children:"InclusiveAID"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Configura\xe7\xe3o Inicial"})})]})}),(0,s.jsx)("div",{className:"border-b bg-muted/5",children:(0,s.jsx)("div",{className:"container px-4 py-4",children:(0,s.jsx)(w,{})})}),(0,s.jsx)("main",{className:"flex-1",children:(0,s.jsx)("div",{className:"container flex-1 space-y-8 px-4 py-8 md:py-12",children:(0,s.jsx)("div",{className:"mx-auto max-w-3xl",children:t})})}),(0,s.jsx)("footer",{className:"border-t bg-background",children:(0,s.jsx)("div",{className:"container px-4 py-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:[(0,s.jsxs)("p",{className:"text-center text-sm text-muted-foreground md:text-left",children:["\xa9 ",new Date().getFullYear()," InclusiveAID. Todos os direitos reservados."]}),(0,s.jsxs)("nav",{className:"flex gap-4",children:[(0,s.jsx)("a",{href:"/privacy",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Pol\xedtica de Privacidade"}),(0,s.jsx)("a",{href:"/terms",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Termos de Uso"}),(0,s.jsx)("a",{href:"/accessibility",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Acessibilidade"})]})]})})}),(0,s.jsx)(S,{notifications:r,onDismiss:i})]})}},8471:function(e,t,r){"use strict";r.r(t),r.d(t,{OnboardingProvider:function(){return a},useOnboardingContext:function(){return l},useOnboardingStatus:function(){return c}});var s=r(3827),n=r(4090);let i={disabilitySettings:[],accessibilitySettings:{},userPreferences:{},currentStep:1,isComplete:!1},o=(0,n.createContext)(void 0);function a(e){let{children:t}=e,{disabilitySettings:r,accessibilitySettings:a,userPreferences:l,currentStep:c,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:m,updateUserPreferences:p,setCurrentStep:f,completeOnboarding:g,resetOnboarding:x}=function(){let[e,t]=(0,n.useState)(i);(0,n.useEffect)(()=>{(()=>{try{let e=JSON.parse(localStorage.getItem("selectedDisabilities")||"[]"),r=JSON.parse(localStorage.getItem("accessibilitySettings")||"{}"),s=JSON.parse(localStorage.getItem("userPreferences")||"{}"),n=parseInt(localStorage.getItem("onboardingStep")||"1"),i="true"===localStorage.getItem("onboardingComplete");t({disabilitySettings:e,accessibilitySettings:r,userPreferences:s,currentStep:n,isComplete:i})}catch(e){console.error("Erro ao carregar estado do onboarding:",e)}})()},[]);let r=async()=>{try{if(!(await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({disabilitySettings:e.disabilitySettings,accessibilitySettings:e.accessibilitySettings,userPreferences:e.userPreferences})})).ok)throw Error("Erro ao salvar configura\xe7\xf5es");t(e=>({...e,isComplete:!0})),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.setItem("onboardingComplete","true")}catch(e){throw console.error("Erro ao completar onboarding:",e),e}};return{...e,updateDisabilitySettings:e=>{t(t=>({...t,disabilitySettings:e})),localStorage.setItem("selectedDisabilities",JSON.stringify(e))},updateAccessibilitySettings:e=>{t(t=>({...t,accessibilitySettings:e})),localStorage.setItem("accessibilitySettings",JSON.stringify(e))},updateUserPreferences:e=>{t(t=>({...t,userPreferences:e})),localStorage.setItem("userPreferences",JSON.stringify(e))},setCurrentStep:e=>{t(t=>({...t,currentStep:e})),localStorage.setItem("onboardingStep",e.toString())},completeOnboarding:r,resetOnboarding:()=>{t(i),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.removeItem("onboardingComplete")}}}(),h=(0,n.useMemo)(()=>({disabilitySettings:r,accessibilitySettings:a,userPreferences:l,currentStep:c,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:m,updateUserPreferences:p,setCurrentStep:f,completeOnboarding:g,resetOnboarding:x}),[r,a,l,c,d,u,m,p,f,g,x]);return(0,s.jsx)(o.Provider,{value:h,children:t})}function l(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useOnboardingContext must be used within an OnboardingProvider");return e}function c(){let{isComplete:e,currentStep:t}=l();return{isOnboarding:(0,n.useCallback)(()=>!e,[e]),isOnboardingStep:(0,n.useCallback)(r=>!e&&t===r,[e,t])}}}},function(e){e.O(0,[371,971,69,744],function(){return e(e.s=8421)}),_N_E=e.O()}]);