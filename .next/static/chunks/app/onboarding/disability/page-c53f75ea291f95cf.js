(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{5147:function(e,t,i){Promise.resolve().then(i.bind(i,7077))},7907:function(e,t,i){"use strict";var r=i(5313);i.o(r,"useRouter")&&i.d(t,{useRouter:function(){return r.useRouter}})},7077:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var r=i(3827),o=i(4090),n=i(8371),a=i(6034),s=i(8471);let c=[{id:"visual",title:"Defici\xeancia Visual",description:"Baixa vis\xe3o, cegueira ou daltonismo",icon:"\uD83D\uDC41️"},{id:"auditiva",title:"Defici\xeancia Auditiva",description:"Perda auditiva parcial ou total",icon:"\uD83D\uDC42"},{id:"motora",title:"Defici\xeancia Motora",description:"Dificuldades de movimento ou coordena\xe7\xe3o",icon:"\uD83D\uDD90️"},{id:"cognitiva",title:"Defici\xeancia Cognitiva",description:"Dificuldades de aprendizado ou processamento",icon:"\uD83E\uDDE0"},{id:"nenhuma",title:"Nenhuma Defici\xeancia",description:"Continuar sem configura\xe7\xf5es espec\xedficas",icon:"✓"}];function l(){let{updateDisabilitySettings:e}=(0,s.useOnboardingContext)(),[t,i]=(0,o.useState)([]),l=e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},d=async()=>{await e(t)};return(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Selecione suas necessidades"}),(0,r.jsx)("p",{className:"text-xl text-muted-foreground",children:"Escolha as op\xe7\xf5es que melhor descrevem suas necessidades. Voc\xea pode selecionar mais de uma op\xe7\xe3o."})]}),(0,r.jsx)("div",{className:"grid gap-4",children:c.map(e=>(0,r.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(e.id),className:"p-4 rounded-lg border transition-all ".concat(t.includes(e.id)?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-2xl",children:e.icon}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("h3",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})},e.id))}),(0,r.jsx)(a.C,{onNext:d,isNextDisabled:0===t.length})]})}},6034:function(e,t,i){"use strict";i.d(t,{C:function(){return s}});var r=i(3827),o=i(7907),n=i(8371),a=i(8471);function s(e){let{onNext:t,onBack:i,nextLabel:s="Continuar",backLabel:c="Voltar",showBack:l=!0,showNext:d=!0,isNextDisabled:u=!1,isNextLoading:g=!1}=e,m=(0,o.useRouter)(),{currentStep:b,setCurrentStep:p}=(0,a.useOnboardingContext)(),f=async()=>{t&&await t();let e=b+1;p(e);let i={1:"/onboarding",2:"/onboarding/disability",3:"/onboarding/accessibility",4:"/onboarding/preferences",5:"/onboarding/complete"}[e];i&&m.push(i)};return(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4 mt-8 pt-6 border-t",children:[l&&(0,r.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{i&&i();let e=b-1;p(e);let t={1:"/onboarding",2:"/onboarding/disability",3:"/onboarding/accessibility",4:"/onboarding/preferences",5:"/onboarding/complete"}[e];t&&m.push(t)},className:"px-6 py-2 border border-input rounded-md hover:bg-accent transition-colors",disabled:1===b,children:c}),d&&(0,r.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:u||g,className:"px-6 py-2 rounded-md transition-colors ".concat(u||g?"bg-muted text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:bg-primary/90"),children:g?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Carregando..."})]}):s})]})}},8471:function(e,t,i){"use strict";i.r(t),i.d(t,{OnboardingProvider:function(){return s},useOnboardingContext:function(){return c},useOnboardingStatus:function(){return l}});var r=i(3827),o=i(4090);let n={disabilitySettings:[],accessibilitySettings:{},userPreferences:{},currentStep:1,isComplete:!1},a=(0,o.createContext)(void 0);function s(e){let{children:t}=e,{disabilitySettings:i,accessibilitySettings:s,userPreferences:c,currentStep:l,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:g,updateUserPreferences:m,setCurrentStep:b,completeOnboarding:p,resetOnboarding:f}=function(){let[e,t]=(0,o.useState)(n);(0,o.useEffect)(()=>{(()=>{try{let e=JSON.parse(localStorage.getItem("selectedDisabilities")||"[]"),i=JSON.parse(localStorage.getItem("accessibilitySettings")||"{}"),r=JSON.parse(localStorage.getItem("userPreferences")||"{}"),o=parseInt(localStorage.getItem("onboardingStep")||"1"),n="true"===localStorage.getItem("onboardingComplete");t({disabilitySettings:e,accessibilitySettings:i,userPreferences:r,currentStep:o,isComplete:n})}catch(e){console.error("Erro ao carregar estado do onboarding:",e)}})()},[]);let i=async()=>{try{if(!(await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({disabilitySettings:e.disabilitySettings,accessibilitySettings:e.accessibilitySettings,userPreferences:e.userPreferences})})).ok)throw Error("Erro ao salvar configura\xe7\xf5es");t(e=>({...e,isComplete:!0})),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.setItem("onboardingComplete","true")}catch(e){throw console.error("Erro ao completar onboarding:",e),e}};return{...e,updateDisabilitySettings:e=>{t(t=>({...t,disabilitySettings:e})),localStorage.setItem("selectedDisabilities",JSON.stringify(e))},updateAccessibilitySettings:e=>{t(t=>({...t,accessibilitySettings:e})),localStorage.setItem("accessibilitySettings",JSON.stringify(e))},updateUserPreferences:e=>{t(t=>({...t,userPreferences:e})),localStorage.setItem("userPreferences",JSON.stringify(e))},setCurrentStep:e=>{t(t=>({...t,currentStep:e})),localStorage.setItem("onboardingStep",e.toString())},completeOnboarding:i,resetOnboarding:()=>{t(n),localStorage.removeItem("selectedDisabilities"),localStorage.removeItem("accessibilitySettings"),localStorage.removeItem("userPreferences"),localStorage.removeItem("onboardingStep"),localStorage.removeItem("onboardingComplete")}}}(),S=(0,o.useMemo)(()=>({disabilitySettings:i,accessibilitySettings:s,userPreferences:c,currentStep:l,isComplete:d,updateDisabilitySettings:u,updateAccessibilitySettings:g,updateUserPreferences:m,setCurrentStep:b,completeOnboarding:p,resetOnboarding:f}),[i,s,c,l,d,u,g,m,b,p,f]);return(0,r.jsx)(a.Provider,{value:S,children:t})}function c(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useOnboardingContext must be used within an OnboardingProvider");return e}function l(){let{isComplete:e,currentStep:t}=c();return{isOnboarding:(0,o.useCallback)(()=>!e,[e]),isOnboardingStep:(0,o.useCallback)(i=>!e&&t===i,[e,t])}}}},function(e){e.O(0,[371,971,69,744],function(){return e(e.s=5147)}),_N_E=e.O()}]);